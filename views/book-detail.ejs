<!DOCTYPE html>
<html lang="en">
<head>
	<title>Bookworm | <%= title%></title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Discover the latest book releases in Kannur, Kerala. Stay up-to-date with new arrivals across genres.">
	
	<!-- ===============================================-->
    <!--    template   -->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="../template/assets/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../template/assets/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../template/assets/img/favicons/favicon-16x16.png">
    <link rel="shortcut icon" type="image/x-icon" href="../template/assets/img/favicons/favicon-32x32.png">
    <link rel="manifest" href="../template/assets/img/favicons/manifest.json">
    <meta name="msapplication-TileImage" content="template/assets/img/favicons/mstile-150x150.png">
    <meta name="theme-color" content="#ffffff">


    <!-- ===============================================-->
    <!--   Template Stylesheets-->
    <!-- ===============================================-->
    <link href="../template/assets/css/theme.css" rel="stylesheet" />
	

	<!-- ===============================================-->
    <!--    Nav Style  -->
    <!-- ===============================================-->
    <link rel="stylesheet" href="../nav/css/linearicons.css">
    <link rel="stylesheet" href="../nav/css/font-awesome.min.css">
    <link rel="stylesheet" href="../nav/css/themify-icons.css">
    <link rel="stylesheet" href="../nav/css/owl.carousel.css">
    <link rel="stylesheet" href="../nav/css/nice-select.css">
    <link rel="stylesheet" href="../nav/css/nouislider.min.css">
    <link rel="stylesheet" href="../nav/css/ion.rangeSlider.css" />
    <link rel="stylesheet" href="../nav/css/ion.rangeSlider.skinFlat.css" />
    <link rel="stylesheet" href="../nav/css/magnific-popup.css">
    <link rel="stylesheet" href="../nav/css/main.css">


	<!-- ===============================================-->
    <!--    Book details  -->
    <!-- ===============================================-->
	<link rel="icon" type="image/png" href="../bookdetails/images/icons/favicon.png"/>
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/fonts/iconic/css/material-design-iconic-font.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/fonts/linearicons-v1.0.0/icon-font.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/animate/animate.css">	
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/animsition/css/animsition.min.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/select2/select2.min.css">	
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/daterangepicker/daterangepicker.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/slick/slick.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/MagnificPopup/magnific-popup.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/vendor/perfect-scrollbar/perfect-scrollbar.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/css/util.css">
	<link rel="stylesheet" type="text/css" href="../bookdetails/css/main.css">


	 <!-- ===============================================-->
    <!--    Card Style  -->
    <!-- ===============================================-->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ==" crossorigin="anonymous" />
    <link href="../card/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../card/css/style.css" rel="stylesheet" />
    <link href="../card/css/responsive.css" rel="stylesheet" />

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" integrity="sha384-5z5X9NljNv5ufg/tN/ztKjxL5837vqoZMIzfyLtygoRczjKm55Bvfkg2QrO/rG" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/js/materialdesignicons.min.js" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" integrity="sha384-5z5X9NljNv5ufg/tN/ztKjxL5837vqoZMIzfyLtygoRczjKm55Bvfkg2QrO/rG" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/js/materialdesignicons.min.js" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
</head>
<body class="animsition">
	
      <!-- ============================================-->
      <!-- Navbar ============================-->
      <header class="header_area sticky-header">
        <div class="main_menu" style="background-color: #ffffff;">
          <nav class="navbar navbar-expand-lg navbar-light main_box">
            <div class="container">
              <!-- Brand and toggle get grouped for better mobile display -->
              <a class="navbar-brand logo_h" href="/"><img class="" src="../nav/img/logo3.png" alt="Bookworm logo" style="width:160px"></a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse offset justify-content-end" id="navbarSupportedContent">
                <ul class="nav navbar-nav menu_nav ml-auto">
                  <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                  <li class="nav-item"><a class="nav-link" href="/book">Book</a></li>
                  <% if (userDetails) { %>
                    <li class="nav-item cartText"><a class="nav-link" href="/cart/<%= userDetails._id %>">Cart</a></li>
                    <li class="nav-item cartIcon"><a class="nav-link" href="/cart/<%= userDetails._id %>"><i class="fas fa-shopping-cart"></i>
                    <!-- <span class="badge rounded-pill badge-notification bg-danger">1</span></a></li> -->
                  <% }else{ %>
                    <li class="nav-item cartText"><a id="cartIdText" class="nav-link">Cart</a></li>
                    <li class="nav-item cartIcon"><a id="cartIdIcon" class="nav-link"><i class="fas fa-shopping-cart"></i></a></li>
                    <script>
                      document.getElementById("cartIdText").addEventListener("click", function() {
                        Swal.fire({
                          title: 'Not Login',
                          text: "Please Login First",
                          icon: 'error',
                          showCancelButton: true,
                          confirmButtonColor: '#3085d6',
                          cancelButtonColor: '#d33',
                          confirmButtonText: 'Log In'
                        }).then((result) => {
                          if (result.value) {
                            $('#exampleModalCenter').modal('show');
                          }
                        })
                      })
                      document.getElementById("close-modal").addEventListener("click", function() {
                        $('#exampleModalCenter').modal('hide');
                      });
                    </script>
                    <script>
                      document.getElementById("cartIdIcon").addEventListener("click", function() {
                        Swal.fire({
                          title: 'Not Login',
                          text: "Please Login First",
                          icon: 'error',
                          showCancelButton: true,
                          confirmButtonColor: '#3085d6',
                          cancelButtonColor: '#d33',
                          confirmButtonText: 'Log In'
                        }).then((result) => {
                          if (result.value) {
                            $('#exampleModalCenter').modal('show');
                          }
                        })
                      })
                      document.getElementById("close-modal").addEventListener("click", function() {
                        $('#exampleModalCenter').modal('hide');
                      });
                    </script>
                  <% } %>
                  <% if(userDetails) {%>
                    <li class="nav-item submenu dropdown">
                      <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false"><i class="fas fa-user-circle me-2"></i></a>
                      <ul class="dropdown-menu">
                        <li class="nav-item"><a class="nav-link" href="/myProfile/<%= userDetails._id %>"><%= userDetails.username %></a></li>
                        <li class="nav-item"><a class="nav-link" href="/myOrder/<%= userDetails._id %>">My Orders</a></li>
                        <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
                      </ul>
                    </li>
                  <% }else{ %>
                    <li class="nav-item"><a class="nav-link" data-toggle="modal" data-target="#exampleModalCenter">Log In</a></li>	
                  <% } %>  
                </ul>
              </div>
            </div>
          </nav>
        </div>
      </header>
      <!-- Navbar ============================-->
      <!-- ============================================-->


      <!-- ============================================-->
      <!-- Incorrect Warning ============================-->

      <% if(warning) {%>
      <!-- Modal -->
     <script>
      window.addEventListener("load", ()=>{
        Swal.fire({
          title: 'Warning',
          text: "<%= warning %>",
          icon: 'warning',
          buttons: true,
          dangerMode: true,
          buttons: 'cancel'
        }).then((result) => {
          if (result) {
            $('#exampleModalCenter').modal('show');
          }
        })
      })
     </script>
      <% } %>

      <!-- Incorrect Warning ============================-->
      <!-- ============================================-->


      <!-- ============================================-->
      <!-- model login ============================-->
      <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">

            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Log In</h5>
            <button type="button" class="close border-0 bg-white" id="close-modal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>

            <div class="modal-body">
                <!-- <form id="login" action="/login" method="post" onsubmit="return submitform(event)"> -->
                <form id="login" onsubmit="return submitform(event)">
                    <div id="alert"></div>
                    <div class="form-outline mb-1">
                      <label class="form-label" for="typeUsernameX-1">Email</label>
                        <input type="text" id="email" class="form-control form-control-lg" name="email" />  
                    </div>
                    <div class="form-outline mb-3">
                      <label class="form-label" for="typePasswordX-1">Password</label>
                    <input type="password" id="password" name="password" class="form-control form-control-lg" />
                    </div>
                    <div class="d-flex justify-content-center">
                      <button class="btn btn-warning btn-lg btn-block" type="button"  style="justify-content: center;" onclick="login()">Log In</button>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="justify-content: center;">
              <div>
                <p class="mb-0">Don't have an account? <a class="fw-bold text-dark" href="/signup">Sign Up</a></p>
              </div>
            </div>
        </div>
        </div>
      </div> 
      <!-- model login ============================-->
      <!-- ============================================-->


	<!-- Product Detail -->
	<section class="sec-product-detail bg0 p-t-90 p-b-60">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-lg-7 p-b-30">
					<div class="p-l-25 p-r-30 p-lr-0-lg">
						<div class="wrap-slick3 flex-sb flex-w">
							<div class="wrap-slick3-dots"></div>
							<div class="wrap-slick3-arrows flex-sb-m flex-w"></div>

							<div class="slick3 gallery-lb">
								<div class="item-slick3" data-thumb="../<%= books.image1 %>">
									<div class="wrap-pic-w pos-relative">
										<img src="../<%= books.image1 %>" alt="IMG-PRODUCT">

										<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image1 %>">
											<i class="fa fa-expand"></i>
										</a>
									</div>
								</div>

								<div class="item-slick3" data-thumb="../<%= books.image2 %>">
									<div class="wrap-pic-w pos-relative">
										<img src="../<%= books.image2 %>" alt="IMG-PRODUCT">

										<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image2 %>">
											<i class="fa fa-expand"></i>
										</a>
									</div>
								</div>

								<div class="item-slick3" data-thumb="../<%= books.image3 %>">
									<div class="wrap-pic-w pos-relative">
										<img src="../<%= books.image3 %>" alt="IMG-PRODUCT">

										<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image3 %>">
											<i class="fa fa-expand"></i>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
					
				<div class="col-md-6 col-lg-5 p-b-30">
					<div class="p-r-50 p-t-5 p-lr-0-lg">
						<h4 class="ltext-107 cl2 js-name-detail p-b-14">
							<%= books.bookName %>
						</h4>
						<div class="d-flex  p-b-15 mtext-102">
							<p class="mr-5"><%= books?.author?.authorName %></p>
							<p><%= books.language %></p>
						</div>
						<div class="d-flex  p-b-15 mtext-102">
							<!-- <p class="mr-5">Category : Article</p> -->
							<p>Genre : <%= books?.genre?.genreName  %></p>
						</div>
						<div class="d-flex  p-b-15 mtext-102">
							<p>Pages : 204</p>
						</div>
						<div class="flex-w p-b-15">
							<span class="fs-18 cl11">
								<% for(let i=0;i<books.rating; i++){ %>
								<i class="zmdi zmdi-star"></i>
								<% } %>
                                <% for(let i=0;i<5-books.rating; i++){ %>
								<i class="zmdi zmdi-star-outline"></i>
								<% } %>
							</span>
							<p class="ms-3">( <%= books.rating%>/5 )</p>
						</div>
						<span class="mtext-102 cl2">
								  <div class="mr-5 p-3 mtext-111 bg-7 cl10">
									  ₹ <%= books.retailPrice %>
								  </div>
						</span>

						<!--  -->
						<div class="p-t-33">
							<div class="flex-w p-b-10">
								<% if(userDetails) {%>
								<button id="addCart<%= books._id %>" onclick="addCart('<%= books._id %>','<%= userDetails._id %>')" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
									Add to cart
								</button>
								<script>
									document.getElementById("addCart<%= books._id %>").addEventListener("click", function() {
									  Swal.fire({
										title: 'Added',
										text: "<%= books.bookName %> Added To Cart",
										icon: 'success',
										confirmButtonColor: '#3085d6',
										confirmButtonText: 'Ok',
									  })
									});
								</script>
								<% }else{ %>
									<button id="noLoginaddIcon<%= books._id %>" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
										Add to cart
									</button>
									<script>
										document.getElementById("noLoginaddIcon<%= books._id %>").addEventListener("click", function() {
										  Swal.fire({
											title: 'Not Login',
											text: "Please Login First",
											icon: 'error',
											showCancelButton: true,
											confirmButtonColor: '#3085d6',
											cancelButtonColor: '#d33',
											confirmButtonText: 'Log In'
										  }).then((result) => {
											if (result.value) {
											  $('#exampleModalCenter').modal('show');
											}
										  })
										})
										
										document.getElementById("close-modal").addEventListener("click", function() {
										  $('#exampleModalCenter').modal('hide');
										});
									</script>
								<% } %>
							</div>	
						</div>

						
					</div>
				</div>
			</div>

			<div class="bor10 m-t-50 p-t-43 p-b-40">
				<!-- Tab01 -->
				<div class="tab01">
					<!-- Nav tabs -->
					<ul class="nav nav-tabs" role="tablist">
						<li class="nav-item p-b-10">
							<a class="nav-link active" data-toggle="tab" href="#description" role="tab">Description</a>
						</li>

						<li class="nav-item p-b-10">
							<a class="nav-link" data-toggle="tab" href="#information" role="tab"><%= books?.author?.authorName %></a>
						</li>

						<!-- <li class="nav-item p-b-10">
							<a class="nav-link" data-toggle="tab" href="#reviews" role="tab">Reviews (1)</a>
						</li> -->
					</ul>

					<!-- Tab panes -->
					<div class="tab-content p-t-43">
						<!-- - -->
						<div class="tab-pane fade show active" id="description" role="tabpanel">
							<div class="how-pos2 p-lr-15-md">
								<p class="stext-102 cl6">
									<%= books.bookDetails %>
								</p>
							</div>
						</div>

						<!-- - -->
						<div class="tab-pane fade" id="information" role="tabpanel">
							<div class="how-pos2 p-lr-15-md d-flex">
								<div class="me-3">
									<img src="../<%= books?.author?.authorImage %>" alt="<%= books?.author?.authorImage %>" style="width: 150px">
								</div>
								<p class="stext-102 cl6">
									<%= books?.author?.authorDetails %>
								</p>
							</div>
						</div>

						<!-- - -->
						<!-- <div class="tab-pane fade" id="reviews" role="tabpanel">
							<div class="row">
								<div class="col-sm-10 col-md-8 col-lg-6 m-lr-auto">
									<div class="p-b-30 m-lr-15-sm">
										<div class="flex-w flex-t p-b-68">
											<div class="wrap-pic-s size-109 bor0 of-hidden m-r-18 m-t-6">
												<img src="../bookdetails/images/avatar-01.jpg" alt="AVATAR">
											</div>

											<div class="size-207">
												<div class="flex-w flex-sb-m p-b-17">
													<span class="mtext-107 cl2 p-r-20">
														Ariana Grande
													</span>

													<span class="fs-18 cl11">
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star-half"></i>
													</span>
												</div>

												<p class="stext-102 cl6">
													Quod autem in homine praestantissimum atque optimum est, id deseruit. Apud ceteros autem philosophos
												</p>
											</div>
										</div>

										<form class="w-full">
											<h5 class="mtext-108 cl2 p-b-7">
												Add a review
											</h5>

											<p class="stext-102 cl6">
												Your email address will not be published. Required fields are marked *
											</p>

											<div class="flex-w flex-m p-t-50 p-b-23">
												<span class="stext-102 cl3 m-r-16">
													Your Rating
												</span>

												<span class="wrap-rating fs-18 cl11 pointer">
													<i class="item-rating pointer zmdi zmdi-star-outline"></i>
													<i class="item-rating pointer zmdi zmdi-star-outline"></i>
													<i class="item-rating pointer zmdi zmdi-star-outline"></i>
													<i class="item-rating pointer zmdi zmdi-star-outline"></i>
													<i class="item-rating pointer zmdi zmdi-star-outline"></i>
													<input class="dis-none" type="number" name="rating">
												</span>
											</div>

											<div class="row p-b-25">
												<div class="col-12 p-b-5">
													<label class="stext-102 cl3" for="review">Your review</label>
													<textarea class="size-110 bor8 stext-102 cl2 p-lr-20 p-tb-10" id="review" name="review"></textarea>
												</div>

												<div class="col-sm-6 p-b-5">
													<label class="stext-102 cl3" for="name">Name</label>
													<input class="size-111 bor8 stext-102 cl2 p-lr-20" id="name" type="text" name="name">
												</div>

												<div class="col-sm-6 p-b-5">
													<label class="stext-102 cl3" for="email">Email</label>
													<input class="size-111 bor8 stext-102 cl2 p-lr-20" id="email" type="text" name="email">
												</div>
											</div>

											<button class="flex-c-m stext-101 cl0 size-112 bg7 bor11 hov-btn3 p-lr-15 trans-04 m-b-10">
												Submit
											</button>
										</form>
									</div>
								</div>
							</div>
						</div> -->

					</div>
				</div>
			</div>
		</div>
	</section>


	<!-- Related Products -->
	<section class="sec-relate-product bg0 p-t-45 p-b-105">
		<div class="container">

		    <!-- ============================================-->
      		<!-- card ============================-->
			<section class="food_section layout_padding-bottom">
				<div class="container">
					<div class="row h-100">
						<div class="col-lg-7 mx-auto text-center mb-6">
						<h5 class="fw-bold fs-3 fs-lg-5 lh-sm mb-3">Related Books</h5>
						</div>
					</div>
					<div class="filters-content">
						<div class="row grid" id="bookList">
						  <% relatedbooks.forEach((book,index) =>{ %>
							<% if(index < 6) { %>
							  <div class="col-sm-6 col-lg-4 books item <%= book?.genre?.genreName %> <%= book.language %> <%= book.rating %>" id="">
								<div class="box">
								  <div>
									  <div class="img-box">
										<a href="/book-details/<%= book._id %>">
										  <img src="../<%= book.image1 %>" alt="<%= book.bookName %>">
										</a>
									  </div>
									  <div class="detail-box">
										<a href="/book-details/<%= book._id %>">
										  <h5 class="d-flex justify-content-center">
											<%= book.bookName %>
										  </h5>
										  <div class="row">
											<div class="col-12  d-flex justify-content-center">
											  <p class="authorName">
												<%= book?.author?.authorName %>
											  </p>
											</div>
											<div class="col-6  d-flex justify-content-center">
											  <p>
												<%= book?.genre?.genreName %>
											  </p>
											</div>
											<div class="col-6 d-flex justify-content-center">
											  <p>
												<%= book.language %>
											  </p>
											</div>
											<div class="col-12 d-flex justify-content-center">
											  <span class="fs-18 cl11">
												<% for(let i=0;i<book.rating; i++){ %>
													<i class="zmdi zmdi-star"></i>
												<% } %>
												<% for(let i=0;i<5-book.rating; i++){ %>
													<i class="zmdi zmdi-star-outline"></i>
												<% } %>
											  </span>
											</div>
										  </div>
										</a>
										<div class="options">
										  <h6>
											₹ <%= book.retailPrice %>
										  </h6>
										  <% if(userDetails) {%>
											<a id="addCart<%= book._id %>" onclick="addCart('<%= book._id %>','<%= userDetails._id %>')" style="cursor: pointer;">
											  <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029" style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
												<g>
												  <g>
													<path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
												c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
												  </g>
												</g>
												<g>
												  <g>
													<path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
												C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
												c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
												C457.728,97.71,450.56,86.958,439.296,84.91z" />
												  </g>
												</g>
												<g>
												  <g>
													<path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
												c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
												  </g>
												</g>
										  
											  </svg>
											</a>
											<script>
											  document.getElementById("addCart<%= book._id %>").addEventListener("click", function() {
												Swal.fire({
												  title: 'Added',
												  text: "<%= book.bookName %> Added To Cart",
												  icon: 'success',
												  confirmButtonColor: '#3085d6',
												  confirmButtonText: 'Ok',
												})
											  });
											</script>
									  
										  <% }else{ %>
											<a id="noLoginaddIcon<%= book._id %>" style="cursor: pointer;">
											  <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029" style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
												<g>
												  <g>
													<path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
												c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
												  </g>
												</g>
												<g>
												  <g>
													<path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
												C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
												c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
												C457.728,97.71,450.56,86.958,439.296,84.91z" />
												  </g>
												</g>
												<g>
												  <g>
													<path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
												c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
												  </g>
												</g>
										  
											  </svg>
											</a>
											<script>
											  document.getElementById("noLoginaddIcon<%= book._id %>").addEventListener("click", function() {
												Swal.fire({
												  title: 'Not Login',
												  text: "Please Login First",
												  icon: 'error',
												  showCancelButton: true,
												  confirmButtonColor: '#3085d6',
												  cancelButtonColor: '#d33',
												  confirmButtonText: 'Log In'
												}).then((result) => {
												  if (result.value) {
													$('#exampleModalCenter').modal('show');
												  }
												})
											  })
											  
											  document.getElementById("close-modal").addEventListener("click", function() {
												$('#exampleModalCenter').modal('hide');
											  });
											</script>
										  <% } %>
										</div>
									  </div>
								  </div>
								</div>
							  </div>
							<% } %>
						  <% }) %>
						</div>
					</div>
				</div>
			</section>
		<!-- card ============================-->
			<!-- ============================================-->
		</div>
	</section>
		

	<!-- Back to top -->
	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>

	<!-- Modal1 -->
	<div class="wrap-modal1 js-modal1 p-t-60 p-b-20">
		<div class="overlay-modal1 js-hide-modal1"></div>

		<div class="container">
			<div class="bg0 p-t-60 p-b-30 p-lr-15-lg how-pos3-parent">
				<button class="how-pos3 hov3 trans-04 js-hide-modal1">
					<img src="../bookdetails/images/icons/icon-close.png" alt="CLOSE">
				</button>

				<div class="row">
					<div class="col-md-6 col-lg-7 p-b-30">
						<div class="p-l-25 p-r-30 p-lr-0-lg">
							<div class="wrap-slick3 flex-sb flex-w">
								<div class="wrap-slick3-dots"></div>
								<div class="wrap-slick3-arrows flex-sb-m flex-w"></div>

								<div class="slick3 gallery-lb">
									<div class="item-slick3" data-thumb="images/product-detail-01.jpg">
										<div class="wrap-pic-w pos-relative">
											<img src="../<%= books.image1 %>" alt="IMG-PRODUCT">

											<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image1 %>">
												<i class="fa fa-expand"></i>
											</a>
										</div>
									</div>

									<div class="item-slick3" data-thumb="images/<%= books.image2 %>">
										<div class="wrap-pic-w pos-relative">
											<img src="../<%= books.image2 %>" alt="IMG-PRODUCT">

											<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image2 %>">
												<i class="fa fa-expand"></i>
											</a>
										</div>
									</div>

									<div class="item-slick3" data-thumb="images/product-detail-03.jpg">
										<div class="wrap-pic-w pos-relative">
											<img src="../<%= books.image3 %>" alt="IMG-PRODUCT">

											<a class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04" href="../<%= books.image3 %>">
												<i class="fa fa-expand"></i>
											</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="col-md-6 col-lg-5 p-b-30">
						<div class="p-r-50 p-t-5 p-lr-0-lg">
							<h4 class="mtext-105 cl2 js-name-detail p-b-14">
								Lightweight Jacket
							</h4>

							<span class="mtext-106 cl2">
								$58.79
							</span>

							<p class="stext-102 cl3 p-t-23">
								Nulla eget sem vitae eros pharetra viverra. Nam vitae luctus ligula. Mauris consequat ornare feugiat.
							</p>
							
							<!--  -->
							<div class="p-t-33">
								<div class="flex-w flex-r-m p-b-10">
									<div class="size-203 flex-c-m respon6">
										Size
									</div>

									<div class="size-204 respon6-next">
										<div class="rs1-select2 bor8 bg0">
											<select class="js-select2" name="time">
												<option>Choose an option</option>
												<option>Size S</option>
												<option>Size M</option>
												<option>Size L</option>
												<option>Size XL</option>
											</select>
											<div class="dropDownSelect2"></div>
										</div>
									</div>
								</div>

								<div class="flex-w flex-r-m p-b-10">
									<div class="size-203 flex-c-m respon6">
										Color
									</div>

									<div class="size-204 respon6-next">
										<div class="rs1-select2 bor8 bg0">
											<select class="js-select2" name="time">
												<option>Choose an option</option>
												<option>Red</option>
												<option>Blue</option>
												<option>White</option>
												<option>Grey</option>
											</select>
											<div class="dropDownSelect2"></div>
										</div>
									</div>
								</div>

								<div class="flex-w flex-r-m p-b-10">
									<div class="size-204 flex-w flex-m respon6-next">
										<div class="wrap-num-product flex-w m-r-20 m-tb-10">
											<div class="btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m">
												<i class="fs-16 zmdi zmdi-minus"></i>
											</div>

											<input class="mtext-104 cl3 txt-center num-product" type="number" name="num-product" value="1">

											<div class="btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m">
												<i class="fs-16 zmdi zmdi-plus"></i>
											</div>
										</div>

										<button class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
											Add to cart
										</button>
									</div>
								</div>	
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	



	<script>
		function login() {
		   const loginEmail = document.getElementById('email').value;
		   const loginEmailPassword = document.getElementById('password').value;
		   const url = window.location.origin;
		   fetch(`${url}/login`, {
			 method: 'POST',
			 headers: {
			   'Accept': 'application/json',
			   'Content-Type': 'application/json'
			 },
			 body: JSON.stringify({
			   email : loginEmail,
			   password : loginEmailPassword,
			 })
		   }).then((response)=> {
			 if(response.status === 200){
			   return response.json().then(() => {
				   console.log("Success");
				   location.reload();
			   });
			 }else if(response.status === 401){
			   return response.json().then((data) => {
				   Swal.fire({
					 title: 'Warning',
					 text: data.message,
					 icon: 'warning',
					 buttons: true,
					 dangerMode: true,
					 buttons: 'cancel'
				   });
			   });
			 }
		   })
		 }
		 
		 function addCart(bookId, userId) {
		   const url = window.location.origin;
		   fetch(`${url}/addToCart?productId=${bookId}&userId=${userId}`, {
			 method: 'POST',
			 headers: {
			   'Accept': 'application/json',
			   'Content-Type': 'application/json'
			 }
		   })
		 }
	   </script>

	   

	<!-- ===============================================-->
    <!--    Book details JavaScripts -->
    <!-- ===============================================-->
	<script src="../bookdetails/vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="../bookdetails/vendor/animsition/js/animsition.min.js"></script>
	<script src="../bookdetails/vendor/bootstrap/js/popper.js"></script>
	<script src="../bookdetails/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="../bookdetails/vendor/select2/select2.min.js"></script>
	<script>
		$(".js-select2").each(function(){
			$(this).select2({
				minimumResultsForSearch: 20,
				dropdownParent: $(this).next('.dropDownSelect2')
			});
		})
	</script>
	<script src="../bookdetails/vendor/daterangepicker/moment.min.js"></script>
	<script src="../bookdetails/vendor/daterangepicker/daterangepicker.js"></script>
	<script src="../bookdetails/vendor/slick/slick.min.js"></script>
	<script src="../bookdetails/js/slick-custom.js"></script>
	<script src="../bookdetails/vendor/parallax100/parallax100.js"></script>
	<script>
        $('.parallax100').parallax100();
	</script>
	<script src="../bookdetails/vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
	<script>
		$('.gallery-lb').each(function() { // the containers for all your galleries
			$(this).magnificPopup({
		        delegate: 'a', // the selector for gallery item
		        type: 'image',
		        gallery: {
		        	enabled:true
		        },
		        mainClass: 'mfp-fade'
		    });
		});
	</script>
	<script src="../bookdetails/vendor/isotope/isotope.pkgd.min.js"></script>
	<script src="../bookdetails/vendor/sweetalert/sweetalert.min.js"></script>
	<script>
		$('.js-addwish-b2, .js-addwish-detail').on('click', function(e){
			e.preventDefault();
		});

		$('.js-addwish-b2').each(function(){
			var nameProduct = $(this).parent().parent().find('.js-name-b2').html();
			$(this).on('click', function(){
				swal(nameProduct, "is added to wishlist !", "success");

				$(this).addClass('js-addedwish-b2');
				$(this).off('click');
			});
		});

		$('.js-addwish-detail').each(function(){
			var nameProduct = $(this).parent().parent().parent().find('.js-name-detail').html();

			$(this).on('click', function(){
				swal(nameProduct, "is added to wishlist !", "success");

				$(this).addClass('js-addedwish-detail');
				$(this).off('click');
			});
		});

		/*---------------------------------------------*/

		$('.js-addcart-detail').each(function(){
			var nameProduct = $(this).parent().parent().parent().parent().find('.js-name-detail').html();
			$(this).on('click', function(){
				swal(nameProduct, "is added to cart !", "success");
			});
		});
	
	</script>
	<script src="../bookdetails/vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script>
		$('.js-pscroll').each(function(){
			$(this).css('position','relative');
			$(this).css('overflow','hidden');
			var ps = new PerfectScrollbar(this, {
				wheelSpeed: 1,
				scrollingThreshold: 1000,
				wheelPropagation: false,
			});

			$(window).on('resize', function(){
				ps.update();
			})
		});
	</script>
	<script src="../bookdetails/js/main.js"></script>


	<!-- ===============================================-->
    <!--    Nav JavaScripts -->
    <!-- ===============================================-->
    <script src="../nav/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
    <script src="../nav/js/vendor/bootstrap.min.js"></script>
    <script src="../nav/js/jquery.ajaxchimp.min.js"></script>
    <script src="../nav/js/jquery.nice-select.min.js"></script>
    <script src="../nav/js/jquery.sticky.js"></script>
    <script src="../nav/js/nouislider.min.js"></script>
    <script src="../nav/js/countdown.js"></script>
    <script src="../nav/js/jquery.magnific-popup.min.js"></script>
    <script src="../nav/js/owl.carousel.min.js"></script>
    <!--gmaps Js-->
    <script src="../https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
    <script src="../nav/js/gmaps.min.js"></script>
    <script src="../nav/js/main.js"></script>


	<!-- ===============================================-->
    <!--    Card JavaScripts-->
    <!-- ===============================================-->
    <!-- <script src="../card/js/jquery-3.4.1.min.js"></script> -->
    <script src="../https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="../card/js/bootstrap.js"></script>
    <script src="../https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script src="../https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
    <script src="../https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
    <script src="../card/js/custom.js"></script>
    <script src="../https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap"></script>

	
    <script>$
		(document).ready(function(){
		$('#myModal').modal('show');
		$('#closeBtn').click(function(){
		  $('#myModal').modal('hide');
		 });
		});
	</script>


	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
	<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</body>
</html>